#!/usr/bin/tclsh


# source vivado_projects/PROJECT_PSE/first_assignment/Solutions/RTL/VHDL_verilog/stimuli/multiplier.tcl

# open_wave_config vivado_projects/PROJECT_PSE/first_assignment/Solutions/RTL/VHDL_verilog/waves/vhdl_multiplier_behav.wcfg
# open_wave_config vivado_projects/PROJECT_PSE/first_assignment/Solutions/RTL/VHDL_verilog/waves/verilog_multiplier_behav.wcfg


restart

set PERIOD 100ns;
set HALF_PERIOD 50ns
add_force clk {1 0ns} {0 50ns} -repeat_every $PERIOD;


run $PERIOD;
add_force rst 1;

run $HALF_PERIOD;
run $PERIOD;
add_force rst 0;

run $PERIOD;
add_force ready 1;


# TEST 1
#0-1-4(a)-18
#add_force op1 00000000000000000000000000000000; #0.0
#add_force op2 11111111100000000000000000000000; #-inf
#11111111110000000000000000000000 #nan quiet

# TEST 2
#0-1-4(b)-18
#add_force op1 01111111100000000000000000000000; #+inf
#add_force op2 00000000000000000000000000000000; #0.0
#11111111110000000000000000000000 #nan quiet

# TEST 3
#0-1-2-18
#add_force op1 01111111100000000000000000000110; #nan signal
#add_force op2 00111111101000000000000000000000; #1.25
#01111111110000000000000000000110 #nan quiet

# TEST 4
#0-1-3-18
#add_force op1 00111111101000000000000000000000; #1.25
#add_force op2 11111111100000000000010000000110; #nan signal
#11111111110000000000010000000110 #nan quiet

# TEST 5
#0-1-5(a)-18
#add_force op1 00111111101000000000000000000000; #1.25
#add_force op2 00000000000000000000000000000000; #0.0
#00000000000000000000000000000000 #0.0

# TEST 6
#0-1-5(b)-18
#add_force op1 10000000000000000000000000000000; #-0.0
#add_force op2 00111111101000000000000000000000; #1.25
#10000000000000000000000000000000 #-0.0

# TEST 7
#0-1-6(a)-18
#add_force op1 11111111100000000000000000000000; #-inf
#add_force op2 01000000000000000000000000000000; #2.0
#11111111100000000000000000000000 #-inf

# TEST 8
#0-1-6(b)-18
#add_force op1 01000000000000000000000000000000; #2.0
#add_force op2 01111111100000000000000000000000; #inf
#01111111100000000000000000000000 #inf

# TEST 9
#0-1-7-10(2)-12-13(2a)-14(3)-5-18
#add_force op1 00000000010000000000000000000000; #5.87747175411e-39 (DENOM)
#add_force op2 00000000010000000000000000000000; #5.87747175411e-39 (DENOM)
#00000000000000000000000000000000 #0.0

# TEST 10
#0-1-8-10(2)-12-13(2ab)-14(2)-15-17-18
#add_force op1 00111111110000000000000000000000; #1.5
#add_force op2 00000000010000000000000000000000; #5.87747175411e-39 (DENOM)
#00000000011000000000000000000000 #8.81620763117e-39 (DENOM)

# TEST 11
#0-1-9-10(2)-12-13(2a)-[14(6)-11]x2-14(2)-15-17-18
#add_force op1 00000000010000000000000000000000; #5.87747175411e-39 (DENOM)
#add_force op2 00111110110000000000000000000000; #0.375
#00000000000110000000000000000000 #2.20405190779e-39 (DENOM)

# TEST 12
#0-1-10(1)-14(1)-6-18
#add_force op1 01100000000000000000000000000000; #36893488147419103232
#add_force op2 01100000000000000000000000000000; #36893488147419103232
#01111111100000000000000000000000 #+inf

# TEST 13
#0-1-10(3)-11-14(4)-17-18
#add_force op1 01000010111101110111100011110010; #123.7362213134765625
#add_force op2 00111010101000010011011111110100; #0.0012300000526010990142822265625
#00111110000110111101100100100111 #0.15219555795192718505859375

# TEST 14
#0-1-10(1)-14(5)-16-17-18
#add_force op1 01000010100100011100110011001101; #72.90000152587890625
#add_force op2 01000001000100000000000000000000; #9.0
#01000100001001000000011001100111 #656.10003662109375

# TEST 15
#0-1-10(1)-14(5)-16-11-14(4)-17-18
#add_force op1 01000000011111111111111111111110; #3.999999523162841796875
#add_force op2 01000000000000000000000000000001; #2.0000002384185791015625
#01000001000000000000000000000000 #8.0

# TEST 16
#0-1-8-10(2)-12-[13(1)-12]x2-13(2a)-14-15-17-18
#add_force op1 01000001000000000000000000000000; #8.0
#add_force op2 00000000000000000000000000000001; #1.40129846432e-45 (DENOM)
#00000000000000000000000000001000 #1.12103877146e-44 (DENOM)

# TEST 17
#0-1-8-10(2)-12-13(2b)-14(4)-17-18
#add_force op1 01000001100000000000000000000000; #16.0
#add_force op2 00000000010000000000000000000000; #5.87747175411e-39 (DENOM)
#00000010000000000000000000000000 #9.40395480658e-38
 
# TEST 18
#0-1-10(1)-14(2)-15-17-18
#add_force op1 00111100000000000000000000000000; #0.0078125
#add_force op2 00000011100000000000000000000000; #7.52316384526e-37
#00000000010000000000000000000000; #5.87747175411e-39 (DENORM)

# TEST 19
#0-1-10(1)-14(4)-17-18
#add_force op1 01000001010110000000000000000000; #13.5
#add_force op2 00111111100000000000000000000000; #1.0
#01000001010110000000000000000000; #13.5
 
# TEST 20
#0-1-10(1)-14(4)-17-18
add_force op1 01000000000000000000000000000000; #2.0
add_force op2 01000000001000000000000000000000; #2.5
#01000000101000000000000000000000; #5.0


run $PERIOD;
add_force ready 0;

for { set a 0}  {$a < 7} {incr a} {
    run $PERIOD;
}
